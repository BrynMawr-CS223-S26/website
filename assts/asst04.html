<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Assignment 4: Watch where you point!</title>
<link rel="stylesheet" href="../style/cs21.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_assignment_4_watch_where_you_point">Assignment 4: Watch where you point!</a></li>
<li><a href="#_update_your_repository">1. Update your repository</a></li>
<li><a href="#_magic_square">2. Magic Square</a></li>
<li><a href="#_sorted_snacks">3. Sorted Snacks</a></li>
<li><a href="#_submit_your_work">4. Submit your Work</a></li>
<li><a href="#_grading_rubric">5. Grading Rubric</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_assignment_4_watch_where_you_point">Assignment 4: Watch where you point!</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Due Friday, February 14th, before midnight</strong></p>
</div>
<div class="paragraph">
<p>The goals for this assignment are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use malloc and free</p>
</li>
<li>
<p>Work with pointer-based data structures</p>
</li>
<li>
<p>Use gdb and valgrind.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>All programs must run without memory errors and leaks!</strong></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_update_your_repository">1. Update your repository</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Do a <strong>fetch upstream</strong> to obtain the basecode for this assignment.</p>
</div>
<div class="paragraph">
<p>Using the command line</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open terminal and change your current directory to your assignment repository.</p>
</li>
<li>
<p>Run the command <code>git fetch upstream</code></p>
</li>
<li>
<p>Run the command <code>git merge upstream/main</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Your repository should now contain a new folder named <code>A04</code>.</p>
</div>
<div class="paragraph">
<p>The <code>fetch</code> and <code>merge</code> commands update your repository with any changes from the original.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_magic_square">2. Magic Square</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Implement a program, <code>magic_square.c</code>, that tests whether a given matrix is a magic square.
A <a href="https://en.wikipedia.org/wiki/Magic_square">magic square</a> is an N by N matrix where each
row, column, and diagonal has the same sum, called the <em>magic constant</em>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://mathworld.wolfram.com/images/gifs/melencol.jpg" alt="melencol" height="200">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ <strong>make magic_square</strong>
gcc -g magic_square.c -o magic_square
$ <strong>./magic_square < magic1.txt</strong>
8 1 6
3 5 7
4 9 2
M is a magic square (magic constant = 15)
$ <strong>./magic_square < magic2.txt</strong>
9 1 6
3 5 7
4 8 2
M is NOT a magic square!
$ <strong>./magic_square < magic3.txt</strong>
1
M is a magic square (magic constant = 1)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Requirements/Hints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Read in the matrix from stdin using <code>scanf(" %d", &amp;val);</code>. The first two values are the dimensions of the matrix. All subsequent integers are the values of the matrix.</p>
</li>
<li>
<p>Use malloc and free to allocate a 2D array to store the inputs.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sorted_snacks">3. Sorted Snacks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Implement a program, <code>sorted_snackbar.c</code>, that allows users to add snacks to the snackbar and displays
them in alphabetical order. Your program should have the same features as last week&#8217;s snackbar, but should
use a <em>linked list</em> to store the snacks, rather than an array.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ <strong>make sorted_snackbar</strong>
gcc sorted_snackbar.c -o sorted_snackbar
$ <strong>./sorted_snackbar</strong>
Enter a number of snacks: <strong>3</strong>
Enter a name: <strong>Slurm</strong>
Enter a cost: <strong>1.50</strong>
Enter a quantity: <strong>3</strong>
Enter a name: <strong>Beans</strong>
Enter a cost: <strong>5</strong>
Enter a quantity: <strong>1</strong>
Enter a name: <strong>Carrots</strong>
Enter a cost: <strong>2</strong>
Enter a quantity: <strong>10</strong>

Welcome to Sorted Sally's Snack Bar.

0) Beans                cost: $5.00     quantity: 1
1) Carrots              cost: $2.00     quantity: 10
2) Slurm                cost: $1.50     quantity: 3</code></pre>
</div>
</div>
<div class="paragraph">
<p>Requirements/Hints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Implement the function <code>insert_first</code>. This function should create a new snack struct and insert it at the beginning of the list.</p>
</li>
<li>
<p>Implement the function <code>clear</code>. This function should clear and free all items in the list.</p>
</li>
<li>
<p>Implement the function <code>printList</code>. This function should print the contents of the list.</p>
</li>
<li>
<p>Implement three sort functions: <code>sortCost</code> and <code>sortName</code> and <code>sortQuantity</code>. These functions should sort by the given attribute.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_submit_your_work">4. Submit your Work</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before submitting, check that</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Your programs run on goldengate using the <code>make</code> command!</p>
</li>
<li>
<p>valgrind does not report any errors!</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Push you work to github to submit your work.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ cd A04
$ git status
$ git add *.c
$ git status
$ git commit -m "A04 complete"
$ git status
$ git push
$ git status</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_grading_rubric">5. Grading Rubric</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Assignment rubrics</strong></p>
</div>
<div class="paragraph">
<p>Grades are out of 4 points.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(2 points) Magic Square</p>
<div class="ulist">
<ul>
<li>
<p>(0.1 points) style and header comment</p>
</li>
<li>
<p>(0.4 points) reads in matrix from stdin</p>
</li>
<li>
<p>(0.5 points) creates/deletes 2D matrix using malloc/free</p>
</li>
<li>
<p>(1.0 points) No memory errors</p>
</li>
</ul>
</div>
</li>
<li>
<p>(2 points) Sorted Snacks</p>
<div class="ulist">
<ul>
<li>
<p>(0.1 points) style and header comment</p>
</li>
<li>
<p>(0.4 points) defines a struct correctly handles deletion and insertion to a linked list</p>
</li>
<li>
<p>(0.5 points) correctly sorts and displays snacks based on name, cost, or quantity</p>
</li>
<li>
<p>(1.0 points) handles file and linked list nodes correctly (no memory errors!)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Code rubrics</strong></p>
</div>
<div class="paragraph">
<p>For full credit, your C programs must be feature-complete, robust (e.g. run without memory errors or crashing) and
have good style.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Some credit lost for missing features or bugs, depending on severity of error</p>
</li>
<li>
<p>-5% for style errors. See the <a href="../codingstandard.html">class coding style</a> here.</p>
</li>
<li>
<p>-50% for memory errors</p>
</li>
<li>
<p>-100% for failure to checkin work to Github</p>
</li>
<li>
<p>-100% for failure to compile on linux using make</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2026-01-19 20:28:28 -0500
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>